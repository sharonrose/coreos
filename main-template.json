{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {},
    "variables": {
        "baseUrl": "https://raw.githubusercontent.com/sharonrose/coreos/master",
        "avsetDeployUrl": "[concat(variables('baseUrl'),'/nested/availability-set.json')]",
        "publicipDeployUrl":"[concat(variables('baseUrl'),'/nested/public-ip.json')]",
        "storageDeployUrl":"[concat(variables('baseUrl'),'/nested/storage.json')]",
        "nicwithloadbalncerDeployUrl":"[concat(variables('baseUrl'),'/nic-with-loadbalancer.json')]",
        "vnetsubnetDeployUrl":"[concat(variables('baseUrl'),'/nested/vnet-subnet.json')]",
        "vmDeployUrl":"[concat(variables('baseUrl'),'/nested/vm-withavset.json')]"
    },
    "resources": [
        {
            "name": "avsetDeploy",
            "type": "Microsoft.Resources/deployments",
            "apiVersion": "2016-02-01",
            "properties": {
                "mode": "Incremental",
                "templateLink": {
                    "uri": "[variables('avsetDeployUrl')]",
                    "contentVersion": "1.0.0.0"
                },
                "parameters": {
                    "availabilitySetName": {
                        "value": ""
                    },
                    "availabilitySetApiVersion": {
                        "value": ""
                    },
                    "location": {
                        "value": ""
                    }
                }
            }
        },
        {
            "name": "publicipDeploy",
            "type": "Microsoft.Resources/deployments",
            "apiVersion": "2016-02-01",
            "properties": {
                "mode": "Incremental",
                "templateLink": {
                    "uri": "[variables('publicipDeployUrl')]",
                    "contentVersion": "1.0.0.0"
                },
                "parameters": {
                    "networkApiVersion": {
                        "value": ""
                    },
                    "publicIPAddressName": {
                        "value": ""
                    },
                    "publicIPdnsPrefix": {
                        "value": ""
                    }
                }
            }
        },
        {
            "name": "storageDeploy",
            "type": "Microsoft.Resources/deployments",
            "apiVersion": "2016-02-01",
            "properties": {
                "mode": "Incremental",
                "templateLink": {
                    "uri": "[variables('storageDeployUrl')]",
                    "contentVersion": "1.0.0.0"
                },
                "parameters": {
                    "storageAccountName": {
                        "value": ""
                    },
                    "storageApiVersion": {
                        "value": ""
                    },
                    "location": {
                        "value": ""
                    },
                    "storageAccountType": {
                        "value": ""
                    }
                }
            }
        },
        {
            "name": "nicwithloadbalncerDeploy",
            "type": "Microsoft.Resources/deployments",
            "apiVersion": "2016-02-01",
            "properties": {
                "mode": "Incremental",
                "templateLink": {
                    "uri": "[variables('nicwithloadbalncerDeployUrl')]",
                    "contentVersion": "1.0.0.0"
                },
                "parameters": {
                    "networkApiVersion": {
                        "value": ""
                    },
                    "networkInterfaceName": {
                        "value": ""
                    },
                    "location": {
                        "value": ""
                    },
                    "loadBalancerBkpoolRef": {
                        "value": ""
                    },
                    "loadBalancerInboundNatRef": {
                        "value": ""
                    },
                    "subnetRef": {
                        "value": ""
                    }
                }
            }
        },
        {
            "name": "vnetsubnetDeploy",
            "type": "Microsoft.Resources/deployments",
            "apiVersion": "2016-02-01",
            "properties": {
                "mode": "Incremental",
                "templateLink": {
                    "uri": "[variables('vnetsubnetDeployUrl')]",
                    "contentVersion": "1.0.0.0"
                },
                "parameters": {
                    "networkApiVersion": {
                        "value": ""
                    },
                    "vnetName": {
                        "value": ""
                    },
                    "location": {
                        "value": ""
                    },
                    "vnetAddressPrefix": {
                        "value": ""
                    },
                    "subnet1Name": {
                        "value": ""
                    },
                    "subnet1Prefix": {
                        "value": ""
                    }
                }
            }
        },
        {
            "name": "vmDeploy",
            "type": "Microsoft.Resources/deployments",
            "apiVersion": "2016-02-01",
            "properties": {
                "mode": "Incremental",
                "templateLink": {
                    "uri": "[variables('vmDeployUrl')]",
                    "contentVersion": "1.0.0.0"
                },
                "parameters": {
                    "computeApiVersion": {
                        "value": ""
                    },
                    "vmName": {
                        "value": ""
                    },
                    "location": {
                        "value": ""
                    },
                    "vmSize": {
                        "value": ""
                    },
                    "adminUsername": {
                        "value": ""
                    },
                    "adminPassword": {
                        "value": ""
                    },
                    "imagePublisher": {
                        "value": ""
                    },
                    "imageOffer": {
                        "value": ""
                    },
                    "imageSKU": {
                        "value": ""
                    },
                    "imageVersion": {
                        "value": ""
                    },
                    "storageAccountName": {
                        "value": ""
                    },
                    "vmStorageAccountContainerName": {
                        "value": ""
                    },
                    "networkInterfaceName": {
                        "value": ""
                    },
                    "availabilitySetName": {
                        "value": ""
                    }
                }
            }
        }
    ],
    "outputs": {}
}